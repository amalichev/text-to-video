# Text to Speech - Конвертер текста в речь

Скрипт для преобразования больших текстов (рассказов) в качественные аудио файлы с использованием бесплатных TTS решений.

## Возможности

- ✅ Полностью бесплатные решения
- ✅ Поддержка длинных текстов (автоматическое разбиение)
- ✅ Несколько TTS движков на выбор
- ✅ Поддержка русского и других языков
- ✅ Автоматическое объединение аудио частей

## TTS Движки

### 1. Google TTS (gTTS) - РЕКОМЕНДУЕТСЯ
- **Качество**: Хорошее
- **Скорость**: Быстрая
- **Требования**: Интернет соединение
- **Лучше для**: Большинства задач

### 2. Coqui TTS
- **Качество**: Отличное (самое высокое)
- **Скорость**: Медленная
- **Требования**: Больше памяти и процессора
- **Лучше для**: Максимального качества

### 3. pyttsx3
- **Качество**: Базовое
- **Скорость**: Быстрая
- **Требования**: Работает офлайн
- **Лучше для**: Работы без интернета

## Установка

### 1. Убедитесь что установлен Python 3.7+

```bash
python3 --version
```

### 2. Установите зависимости

Для начала рекомендуется установить gTTS (самый простой вариант):

```bash
pip3 install gTTS pydub
```

Или установите все опции:

```bash
pip3 install -r requirements.txt
```

### 3. Установите ffmpeg (для объединения аудио файлов)

**На Mac:**
```bash
brew install ffmpeg
```

**На Ubuntu/Debian:**
```bash
sudo apt-get install ffmpeg
```

**На Windows:**
Скачайте с https://ffmpeg.org/ и добавьте в PATH

## Использование

### Базовое использование

1. Создайте текстовый файл с вашим рассказом (например, `story.txt`)

2. Запустите скрипт:

```bash
python3 text_to_speech.py story.txt
```

Это создаст файл `output.mp3` с озвучкой.

### Продвинутое использование

Указать выходной файл:
```bash
python3 text_to_speech.py story.txt -o my_audiobook.mp3
```

Выбрать конкретный TTS движок:
```bash
# Использовать Google TTS (рекомендуется)
python3 text_to_speech.py story.txt -e gtts

# Использовать Coqui TTS (лучшее качество)
python3 text_to_speech.py story.txt -e coqui

# Использовать pyttsx3 (офлайн)
python3 text_to_speech.py story.txt -e pyttsx3
```

Изменить язык:
```bash
# Для английского
python3 text_to_speech.py story.txt -l en

# Для украинского
python3 text_to_speech.py story.txt -l uk
```

Все опции вместе:
```bash
python3 text_to_speech.py story.txt -o audiobook.mp3 -e gtts -l ru
```

## Примеры

### Пример 1: Быстрая озвучка рассказа

```bash
# Создайте файл story.txt с текстом
echo "Это был тёмный и бурный вечер..." > story.txt

# Конвертируйте в аудио
python3 text_to_speech.py story.txt

# Результат: output.mp3
```

### Пример 2: Длинная книга с максимальным качеством

```bash
python3 text_to_speech.py long_book.txt -o audiobook.mp3 -e coqui
```

## Советы для лучшего качества

1. **Подготовка текста**:
   - Убедитесь что текст правильно отформатирован
   - Используйте правильную пунктуацию для естественных пауз
   - Разделяйте параграфы пустыми строками

2. **Выбор движка**:
   - Для большинства задач: `gtts` (Google TTS)
   - Для максимального качества: `coqui`
   - Для работы без интернета: `pyttsx3`

3. **Большие тексты**:
   - Скрипт автоматически разбивает большие тексты
   - Для очень больших книг рекомендуется разделить на главы

## Устранение проблем

### Ошибка: "No module named..."
Установите отсутствующий модуль:
```bash
pip3 install [название модуля]
```

### Плохое качество звука с pyttsx3
Попробуйте другой движок (gTTS или Coqui).

### Медленная генерация с Coqui
Это нормально - Coqui использует нейронные сети. Для быстрой генерации используйте gTTS.

### Файлы не объединяются
Убедитесь что установлен ffmpeg:
```bash
ffmpeg -version
```

## Сравнение движков

| Движок | Качество | Скорость | Интернет | Русский язык |
|--------|----------|----------|----------|--------------|
| gTTS | ⭐⭐⭐⭐ | ⚡⚡⚡ | Требуется | ✅ Отлично |
| Coqui | ⭐⭐⭐⭐⭐ | ⚡ | Нет | ✅ Отлично |
| pyttsx3 | ⭐⭐ | ⚡⚡⚡ | Нет | ⚠️ Зависит от ОС |

## Лицензия

Свободное использование. Учитывайте лицензии используемых библиотек.
